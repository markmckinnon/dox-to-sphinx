<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Autopsy User Documentation: Central Repository</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Autopsy User Documentation<span id="projectnumber">&#160;4.19.3</span>
   </div>
   <div id="projectbrief">Graphical digital forensics platform for The Sleuth Kit and other tools.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Autopsy User&#39;s Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Central Repository </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#cr_overview">Overview</a></li>
<li class="level1"><a href="#cr_terms">Terms and Concepts</a></li>
<li class="level1"><a href="#cr_setup">Setup</a><ul><li class="level2"><a href="#cr_db_setup">Database Configuration</a><ul><li class="level3"><a href="#cr_db_setup_auto">Automatic Database Configuration</a></li>
<li class="level3"><a href="#cr_db_setup_manual">Manual Database Configuration</a></li>
</ul>
</li>
<li class="level2"><a href="#cr_manage_properties">Manage Correlation Properties</a></li>
<li class="level2"><a href="#cr_manage_orgs">Manage Organizations</a></li>
<li class="level2"><a href="#cr_show_cases">Manage Cases</a></li>
</ul>
</li>
<li class="level1"><a href="#cr_using_repo">Using the Central Repository</a><ul><li class="level2"><a href="#cr_ingest_module">Central Repository Module</a></li>
<li class="level2"><a href="#cr_tagging">Tagging Files and Artifacts</a></li>
</ul>
</li>
<li class="level1"><a href="#cr_viewing_results">Viewing Results</a><ul><li class="level2"><a href="#cr_content_viewer">Content Viewer</a></li>
<li class="level2"><a href="#cr_interesting_items">Analysis Results</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="cr_overview"></a>
Overview</h1>
<p>The central repository allows a user to find matching artifacts both across cases and across data sources in the same case. It is a combination of an ingest module that extracts, stores, and compares properties against lists of notable properties, a database that stores these properties, and an additional panel in Autopsy to display other instances of each property. The central repository database can either be SQLite or PostgreSQL.</p>
<p>The following are some use cases for the central repository:</p><ul>
<li><b>Finding Other Instances of a Property</b><ul>
<li>If you navigate to a file or Autopsy artifact (such as a Web History item), there is a content viewer in the bottom right that will show you other instances of this property across the data stored in the central repository.</li>
</ul>
</li>
<li><b>Alerting When Previously Notable Properties Occur</b><ul>
<li>You can use the central repository to record which properties were associated with files and artifacts that were evidence (or notable). Once these properties have been tagged as notable they will be added to the Analysis Results section of the tree when seen again in any future cases.</li>
</ul>
</li>
<li><b>Storing Hash Sets</b><ul>
<li>You can create and import hash sets into the central repository instead of using local copies in the <a class="el" href="hash_db_page.html">Hash Lookup module</a>. These hash sets are functionally equivalent to local hash sets but can be shared among multiple analysts (when using a PostgreSQL central repository).</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="cr_terms"></a>
Terms and Concepts</h1>
<ul>
<li><b>Central Repository</b> - The Autopsy feature containing the central repository database and Central Repository Ingest Module. Also responsible for displaying correlated properties to the user</li>
<li><b>Central Repository Database</b> - the SQLite or PostgreSQL database that holds all the data</li>
<li><b>Central Repository Ingest Module</b> - The ingest module responsible for adding new properties to the database and comparing these properties against existing notable properties</li>
<li><b>Property</b> - The data being stored/correlated. These can be file paths/MD5 hashes, email addresses, phone numbers, etc.</li>
</ul>
<h1><a class="anchor" id="cr_setup"></a>
Setup</h1>
<p>The central repository settings are found on the main options panel (Tools-&gt;Options) on the "Central Repository" tab.</p>
<div class="image">
<img src="central_repo_options.png" alt=""/>
</div>
<h2><a class="anchor" id="cr_db_setup"></a>
Database Configuration</h2>
<p>There are two types of central repository databases:</p><ul>
<li><b>SQLite</b> - This type of database is stored in a file. It should only be used when a single client will be accessing the database. You can not use this option with <a class="el" href="multiuser_page.html">multi-user cases</a>.</li>
<li><b>PostgreSQL</b> - This type of database is stored on a server running either on the user's host or a remote server. This option must be used if multiple users will be using the same database.</li>
</ul>
<h3><a class="anchor" id="cr_db_setup_auto"></a>
Automatic Database Configuration</h3>
<p>Starting with Autopsy 4.15, when you load Autopsy and the central repository is not enabled you will be asked if you want to enable it. Doing so will create a SQLite database in your Autopsy user folder (on Windows this will be in AppData). You will only be prompted to do this once. Whichever option you select, you can change your central repository settings later as described below.</p>
<p>Since a SQLite database can't be used for multi-user cases, you are also given the option to switch to a PostgreSQL database when you <a class="el" href="install_multiuserclient_page.html#multiuser_install_clients">enable multi-user cases</a>. If you are currently using a SQLite database, when you enable multi-user cases you will be asked if you want to switch to a PostgreSQL database on the same server. Note that the contents of your SQLite database will not be copied over.</p>
<h3><a class="anchor" id="cr_db_setup_manual"></a>
Manual Database Configuration</h3>
<p>On the central repository options panel, check the 'Use a Central Repository' option and then click the Configure button to set up a database. There are three options here:</p><ul>
<li><b>SQLite</b> - This option stores the database in a file. It should only be used when a single client will be accessing the database.</li>
<li><b>PostgreSQL using multi-user settings</b> - This option uses a central repository on the same PostgreSQL server that has been configured for <a class="el" href="multiuser_page.html">multi-user cases</a>. This option can not be selected if multi-user cases are not enabled. This is one of the options if multiple users will be using the same database.</li>
<li><b>Custom PostgreSQL</b> - This option uses a database server running either on the user's host or a remote server, where the server is specified in the central repository settings. This is one of the options if multiple users will be using the same database.</li>
</ul>
<p>Once a database has been configured, the lower two buttons on the main panel will be enabled, which will be described below.</p>
<p><b>Setting up a PostgreSQL deployment using the multi-user settings</b></p>
<p>See the <a class="el" href="install_multiuser_page.html">Setting Up Multi-user Cluster</a> page for instructions on configuring a multi-user environment. Once done, you can select the "PostgreSQL using multi-user settings" option to create/use a central repository on that PostgreSQL server.</p>
<p><b>Setting up a custom PostgreSQL deployment</b></p>
<p>If needed, see the <a class="el" href="install_postgresql_page.html">Install and Configure PostgreSQL</a> page for help setting up your PostgreSQL server.</p>
<p>For PostgreSQL all values are required, but some defaults are provided for convenience.</p>
<div class="image">
<img src="central_repo_postgres.png" alt=""/>
</div>
<ul>
<li>Host Name/IP is the hostname or IP of your PostgreSQL server.</li>
<li>Port is the port that the PostgreSQL server is listening on; default is 5432.</li>
<li>User Name is a PostgreSQL user that can create and modify databases</li>
<li>User Password is the password for the user.</li>
</ul>
<p>If the database does not exist, you wll be prompted to create it.</p>
<p><b>Setting Up SQLite Deployment</b></p>
<p>Select SQLite in the Database Type to set up a SQLite database. SQLite databases should not be used if more than one client will be accessing the central repository.</p>
<div class="image">
<img src="central_repo_sqlite.png" alt=""/>
</div>
<p>Enter or browse to a folder for the database. If the database file does not exist in that folder, you will be prompted to create it.</p>
<h2><a class="anchor" id="cr_manage_properties"></a>
Manage Correlation Properties</h2>
<p>The Central Repository ingest module can save different types of properties to the database. By default all properties are recorded, but this setting can be changed on the options panel through the Manage Correlation Properties button. Note that these settings are saved to the database, so in a multi-user setting any changes will affect all users.</p>
<div class="image">
<img src="central_repo_types.png" alt=""/>
</div>
<p>Descriptions of the property types:</p><ul>
<li><b>Files</b><ul>
<li>Files are correlated based on MD5 hash and file path and name. The <a class="el" href="hash_db_page.html">Hash Lookup Module</a> must be enabled.</li>
</ul>
</li>
<li><b>Domains</b><ul>
<li>Domains are extracted from the various web artifacts, which primarily come from the <a class="el" href="recent_activity_page.html">Recent Activity Module</a>.</li>
</ul>
</li>
<li><b>Email Addresses</b><ul>
<li>Email addresses are created by modules such as the <a class="el" href="email_parser_page.html">Email Parser Module</a>.</li>
</ul>
</li>
<li><b>Phone Numbers</b><ul>
<li>Phone numbers are currently only extracted from call logs, contact lists and message, which come from the <a class="el" href="android_analyzer_page.html">Android Analyzer Module</a>.</li>
</ul>
</li>
<li><b>USB Devices</b><ul>
<li>USB device properties come from the registry parsing in the <a class="el" href="recent_activity_page.html">Recent Activity Module</a>.</li>
</ul>
</li>
<li><b>Wireless Networks</b><ul>
<li>Wireless networks are correlated on SSIDs, and come from the registry parsing in the <a class="el" href="recent_activity_page.html">Recent Activity Module</a>.</li>
</ul>
</li>
<li><b>MAC Addresses</b><ul>
<li>MAC address properties are currently only created by custom Autopsy modules.</li>
</ul>
</li>
<li><b>IMEI Number</b><ul>
<li>IMEIs properties are currently only created by custom Autopsy modules.</li>
</ul>
</li>
<li><b>IMSI Number</b><ul>
<li>IMSI properties are currently only created by custom Autopsy modules.</li>
</ul>
</li>
<li><b>ICCID Number</b><ul>
<li>ICCID properties are currently only created by custom Autopsy modules.</li>
</ul>
</li>
<li><b>Credit Card</b><ul>
<li>Credit Card properties are created by the <a class="el" href="keyword_search_page.html">Keyword Search Module</a>.</li>
</ul>
</li>
<li><b>OS Account</b><ul>
<li>OS account properties are created by the disk image data source processor and the <a class="el" href="recent_activity_page.html">Recent Activity Module</a>.</li>
</ul>
</li>
<li><b>Installed Programs</b><ul>
<li>Installed program properties are created primarily by the <a class="el" href="recent_activity_page.html">Recent Activity Module</a>.</li>
</ul>
</li>
<li><b> App-specific Accounts (Facebook, Twitter, etc)</b><ul>
<li>These properties primarily come from the <a class="el" href="android_analyzer_page.html">Android Analyzer Module</a>.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="cr_manage_orgs"></a>
Manage Organizations</h2>
<p>Organizations are stored in the central repository and contain contact information for the given organization. Organizations are used for Hash Sets saved in the central repository, and can also be associated with Autopsy cases.</p>
<div class="image">
<img src="central_repo_orgs.png" alt=""/>
</div>
<p>One default org, "Not Specified" will always be present in the list. New organizations can be created, edited, and deleted through the appropriate buttons. Note that any organization that is currently in use by a case or hash set can not be deleted. All fields apart from the organization name are optional.</p>
<div class="image">
<img src="central_repo_new_org.png" alt=""/>
</div>
<h2><a class="anchor" id="cr_show_cases"></a>
Manage Cases</h2>
<p>Displays a list of all cases that are in the central repository database and details about each case.</p>
<div class="image">
<img src="central_repo_details.png" alt=""/>
</div>
<h1><a class="anchor" id="cr_using_repo"></a>
Using the Central Repository</h1>
<h2><a class="anchor" id="cr_ingest_module"></a>
Central Repository Module</h2>
<p>The Central Repository ingest module is responsible for adding properties to the database and comparing each property against the list of notable properties. It is best to run all ingest modules to get the most out of the Correlation Engine. For example, if Hash Lookup is not run then the Central Repository module will not put any files into the database. If the Central Repository module is not run on a particular case but a central repository is enabled, there will still be some limited functionality. The Content Viewer will still display matching properties from other cases/data sources where the Central Repository was run.</p>
<div class="image">
<img src="central_repo_ingest_settings.png" alt=""/>
</div>
<p>There are three settings for the Central Repository ingest module: </p><ul>
<li>
<b>Save items to the Central Repository</b> - This should only be unselected in the rare case that you don't want to add any properties from the current data source to the central repository, but still want to flag past occurrences. </li>
<li>
<b>Flag items previously tagged as notable</b> - Enabling this causes Previously Notable analysis results to be created when properties matching those previously flagged are found. See the next section <a class="el" href="central_repo_page.html#cr_tagging">Tagging Files and Artifacts</a> for details. </li>
<li>
<b>Flag devices and users previously seen in other cases</b> - When this is enabled, an Previously Seen analysis result will be created if any device-related property (USB, MAC Address, IMSI, IMEI, ICCID) or an OS account is found that is already in the central repository, regardless of whether they have been flagged. </li>
<li>
<p class="startli"><b>Flag apps and domains not seen in other cases</b> - When this is enabled, Previously Unseen analysis results will be created for any installed program names or domains that are not in the central repository. </p>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="cr_tagging"></a>
Tagging Files and Artifacts</h2>
<p>Tagging a file or artifact with a "notable" tag will change its associated property in the central repository to notable as well. By default, there will be a tag named "Notable Item" that can be used for this purpose. See the <a class="el" href="tagging_page.html">Tagging page</a> for more information on creating additional tags with notable status. Any future data source ingest (where this module is enabled) will use those notable properties in a similar manner as a Known Bad hash set, causing matching files and artifacts from that ingest to generate Previously Notable analysis results in that future case.</p>
<div class="image">
<img src="central_repo_tag_file.png" alt=""/>
</div>
<p>If a tag is accidentally added to a file or artifact, it can be removed though the context menu. This will remove its property's notable status in the central repository.</p>
<p>If you would like to prevent the analysis results from being created in a particular case, you can disable the flagging through the run time ingest properties. Note that this only disables the analysis results - all properties are still added to the central repository unless the top checkbox in the ingest properties is unselected.</p>
<div class="image">
<img src="central_repo_ingest_settings.png" alt=""/>
</div>
<h1><a class="anchor" id="cr_viewing_results"></a>
Viewing Results</h1>
<p>Results from enabling a central repository and running the Central Repository Ingest Module can be seen in two places:</p><ul>
<li>The Content Viewer for each file or artifact will display all matching properties from other cases/data sources</li>
<li>The Analysis Results section of the result tree will contain any files or results that matched properties previously marked as notable, that have been seen before, or that are unique.</li>
</ul>
<h2><a class="anchor" id="cr_content_viewer"></a>
Content Viewer</h2>
<p>The <a class="el" href="content_viewer_page.html">Content Viewer</a> panel is where previous instances of properties are displayed. Without a central repository enabled, this "Other Occurrences" panel will show files with hashes matching the selected file within the current case. Enabling a central repository allows this panel to also display matching properties stored in the database, and adds some functionality to the row. Note that the Central Repository Ingest Module does not have to have been run on the current data source to see correlated properties from the central repository. If the selected file or artifact is associated by one of the supported Correlation Types, to one or more properties in the database, the associated properties will be displayed. Note: the Content Viewer will display ALL associated properties available in the database. It ignores the user's enabled/disabled Correlation Properties.</p>
<p>The other occurrences are grouped by case and then data source. Selecting one of the results brings up information on it in the right column. If a file or artifact was previously marked as notable, you will see "notable" in red next to "Known Status".</p>
<div class="image">
<img src="central_repo_content_viewer.png" alt=""/>
</div>
<p>The user can click on any column heading to sort by the values in that column.</p>
<p>If the user selects an entry in the third column and then right-clicks, a menu will be displayed. This menu has several options.</p><ol type="1">
<li>Export All Other Occurrences to CSV</li>
<li>Show Case Details</li>
<li>Show Frequency</li>
</ol>
<p><b>Export All Other Occurrences to CSV</b></p>
<p>This option will save every other occurrence in the Content Viewer table to a CSV file. By default, the CSV file is saved into the Export directory inside the currently open Autopsy case, but the user is free to select a different location.</p>
<p><b>Show Case Details</b></p>
<p>This option will open a dialog that displays all of the relevant details for the selected case. The details will include:</p><ul>
<li>Case UUID</li>
<li>Case Name</li>
<li>Case Creation Date</li>
<li>Case Examiner contact information</li>
<li>Case Examiner's notes</li>
</ul>
<p>These details would have been entered by the examiner of the selected case, when creating the case or later by visiting the Case -&gt; Case Properties menu.</p>
<p><b>Show Frequency</b></p>
<p>This shows how common the selected file is. The value is the percentage of case/data source tuples that have the selected property.</p>
<h2><a class="anchor" id="cr_interesting_items"></a>
Analysis Results</h2>
<p>When this module is enabled, all of the enabled Correlatable Properties will cause matching files and artifacts to be added to the Analysis Results section of the tree during ingest. There are three types of analysis results that can be created:</p>
<ul>
<li>
<b>Previously Notable</b> results include files and results that have been previoulsy marked as notable in the central repository. </li>
<li>
<b>Previously Seen</b> results show users and devices that were found in the central repository. </li>
<li>
<b>Previously Unseen</b> results show domains and app names that were not found in the central repository. </li>
</ul>
<div class="image">
<img src="central_repo_results.png" alt=""/>
</div>
<p>Each type contains columns in the result viewer showing the correlation type and value that were compared with the central repository, and an "Other Cases" column listing every case the value was found in at the time of ingest (if applicable).</p>
<div class="image">
<img src="central_repo_result_viewer.png" alt=""/>
</div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<hr/>
<p><i>Copyright &#169; 2012-2022 Basis Technology. Generated on Fri Feb 24 2023<br/> 
This work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons Attribution-Share Alike 3.0 United States License</a>.
</i></p>
</body>
</html>
