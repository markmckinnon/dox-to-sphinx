<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Autopsy User Documentation: Translating Documentation and the UI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Autopsy User Documentation<span id="projectnumber">&#160;4.19.3</span>
   </div>
   <div id="projectbrief">Graphical digital forensics platform for The Sleuth Kit and other tools.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Autopsy User&#39;s Guide</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Translating Documentation and the UI </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#translations_doc">Translating Documentation</a><ul><li class="level2"><a href="#translations_doc_start">Translating To a New Language</a></li>
<li class="level2"><a href="#translations_doc_update">Updating The Documentation</a></li>
<li class="level2"><a href="#translations_doc_commit">Committing the Documentation</a></li>
</ul>
</li>
<li class="level1"><a href="#translations_ui">Translating The UI</a><ul><li class="level2"><a href="#translations_ui_autopsy">Autopsy Development Environment</a></li>
<li class="level2"><a href="#translations_ui_strings">Where The English Strings Are Stored</a></li>
<li class="level2"><a href="#translations_ui_translation">Where The Translated Strings Are Stored</a></li>
<li class="level2"><a href="#translations_ui_start">Translating To a New Language</a></li>
<li class="level2"><a href="#translations_ui_update">Updating The Translations</a></li>
<li class="level2"><a href="#translations_ui_commit">Committing the Documentation</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The Autopsy user base is global. You can help out by translating the UI and this documentation.</p>
<h1><a class="anchor" id="translations_doc"></a>
Translating Documentation</h1>
<p>This section outlines how to translate this user documentation. To translate, you will need:</p><ul>
<li>A git account</li>
<li>Basic familiarity with git</li>
<li>Text editor</li>
</ul>
<p>The Autopsy documentation is created by <a href="http://www.doxygen.nl/" target="_blank">Doxygen</a> from ".dox" text files in the <a href="https://github.com/sleuthkit/autopsy/tree/develop/docs/doxygen-user" target="_blank">docs/doxygen-user</a> folder in the Github repository. <br  />
</p>
<p>The first step is to fork the <a href="https://github.com/sleuthkit/autopsy" target="_blank">Autopsy Repository</a> into your Git account and make a clone of it into your environment so that you can make edits to the files. <br  />
</p>
<p>As you are editing, you can review your documentation by installing Doxygen and running 'doxygen' from within the translations folder. It will save the HTML to the 'user-docs' folder.</p>
<h2><a class="anchor" id="translations_doc_start"></a>
Translating To a New Language</h2>
<p>If there is not already documentation in a language, then you need to make a copy of the entire English 'doxygen-user' folder and name it 'doxygen-user_AB' where AB is replaced by the 2 character [country code] (<a href="http://www.lingoes.net/en/translator/langcode.htm">http://www.lingoes.net/en/translator/langcode.htm</a>). For example, 'doxygen-user_fr' for French and 'doxygen-user_ja' for Japanese.</p>
<p>Edit the Doxyfile to update the OUTPUT_LANGUAGE field. For English it has:</p>
<div class="fragment"><div class="line">OUTPUT_LANGUAGE        = English</div>
</div><!-- fragment --><p>Now, simply start translating the English documents.</p>
<h2><a class="anchor" id="translations_doc_update"></a>
Updating The Documentation</h2>
<p>When new releases are made and the English documentation is updated, the other languages should be updated as well. To determine what has changed:</p><ul>
<li>First, determine when the last time the documentation was changed. From a command line, you can change into the translated documentation folder and type:</li>
</ul>
<div class="fragment"><div class="line">$ cd docs/doxygen-user_fr</div>
<div class="line">$ git log -n 1 .</div>
<div class="line">commit 94e4b1042af47908dd4a0b2959b3f6c3d4af1111</div>
<div class="line">Author: John Doe &lt;jdoe@sleuthkit.org&gt;</div>
<div class="line">Date:   Tue Jan 1 22:56:09 2019 -0500</div>
<div class="line"> </div>
<div class="line">    update to quick start</div>
</div><!-- fragment --><p>This shows you that commit 94e4b1042af47908dd4a0b2959b3f6c3d4af1111 was the last translation update to occur for the French version.</p>
<ul>
<li>Next, determine what changed in the English version since then:</li>
</ul>
<div class="fragment"><div class="line">    $ git diff 94e4b1042af47908dd4a0b2959b3f6c3d4af1111 ../doxygen-user</div>
<div class="line">    diff --git a/docs/doxygen-user/central_repo.dox b/docs/doxygen-user/central_repo.dox</div>
<div class="line">index 83d3407e8..e8cd01c1b 100644</div>
<div class="line">    --- a/docs/doxygen-user/central_repo.dox</div>
<div class="line">    +++ b/docs/doxygen-user/central_repo.dox</div>
<div class="line">    @@ -79,6 +79,16 @@ Descriptions of the <span class="keyword">property</span> types:</div>
<div class="line">      - Phone numbers are currently only extracted from call logs, contact lists and message, which come from the Android Analyzer module.</div>
<div class="line">      - &lt;b&gt;USB Devices&lt;/b&gt;</div>
<div class="line">      - USB device properties come from the registry parsing in the Recent Activity Module.</div>
<div class="line">     +- &lt;b&gt;Wireless Networks&lt;/b&gt;</div>
<div class="line">     + - Wireless networks are correlated on SSIDs, and come from the registry par</div>
</div><!-- fragment --><ul>
<li>Update the translated documentation accordingly based on what changed in the English version.</li>
<li>If you do not get to complete all of the changes, you should create a TODO.txt file that lists what was not updated so that other people know that not everything was updated.</li>
</ul>
<h2><a class="anchor" id="translations_doc_commit"></a>
Committing the Documentation</h2>
<p>You should submit a Github Pull Request when:</p><ul>
<li>You complete a language.</li>
<li>You don't have time to do more work, but want to submit what you did.</li>
</ul>
<p>To get the code committed, send a <a href="https://help.github.com/articles/about-pull-requests/" target="_blank">pull request</a> to the main Autopsy repository.</p>
<h1><a class="anchor" id="translations_ui"></a>
Translating The UI</h1>
<p>This section outlines how to translate the UI. To do this, you will need:</p>
<ul>
<li>A git account</li>
<li>Basic familiarity with git</li>
<li>A full Autopsy development environment.</li>
</ul>
<h2><a class="anchor" id="translations_ui_autopsy"></a>
Autopsy Development Environment</h2>
<p>You will need to have a full Autopsy development environment setup so that you can launch Autopsy with your translations and verify it is in the correct location and doesn't get cropped. <br  />
</p>
<p>You can find instructions for doing this in <a href="https://github.com/sleuthkit/autopsy/blob/develop/BUILDING.txt" target="_blank">BUILDING.txt</a>.</p>
<h2><a class="anchor" id="translations_ui_strings"></a>
Where The English Strings Are Stored</h2>
<p>Autopsy uses two different methods for storing the English versions of the UI strings. Some are stored in Bundle.properties files and others are stored in the code as @Message annotations. The annotations make it harder for the code to be translated because translators would need to look in two places, but makes development easier.</p>
<p>To make translations easier, we've added some logic into our build process to merge the various strings together into a single place. When the Autopsy code is compiled, it merges the contents of the annotations and the Bundle.properties files into a single file named Bundle.properties-MERGED. One of these files exists for each Java package.</p>
<p>Let's look at an example in the corecomponents package. Note that some of these links may not be exactly correct once these files are updated and the documentation is not updated, but they serve as a basic reference):</p><ul>
<li>There is a <a href="https://github.com/sleuthkit/autopsy/blob/develop/Core/src/org/sleuthkit/autopsy/corecomponents/Bundle.properties" target="_blank">Bundle.properties</a> file. At the time of this writing, there are 230 lines in that file.</li>
<li>In that same package, the <a href="https://github.com/sleuthkit/autopsy/blob/develop/Core/src/org/sleuthkit/autopsy/corecomponents/AutopsyOptionsPanel.java#L53" target="_blank">AutopsyOptionsPanel.java</a> class has some strings defined as @Message annotations.</li>
<li>There is a <a href="https://github.com/sleuthkit/autopsy/blob/develop/Core/src/org/sleuthkit/autopsy/corecomponents/Bundle.properties-MERGED" target="_blank">Bundle.properties-MERGED</a> file that contains the strings from both Bundle.properties and the annotations. At this time of this writing, that file has 277 lines.</li>
</ul>
<h2><a class="anchor" id="translations_ui_translation"></a>
Where The Translated Strings Are Stored</h2>
<p>Each Java package should have a Bundle_AB.properties file that stores the translated text. The AB is replaced by the 2 character [country code] (<a href="http://www.lingoes.net/en/translator/langcode.htm">http://www.lingoes.net/en/translator/langcode.htm</a>). Such as Bundle_fr.properties for French or Bundle_ja.properties for Japanese.</p>
<p>As an example, you can see the Japanese translation of the previous corecomponents package in <a href="https://github.com/sleuthkit/autopsy/blob/develop/Core/src/org/sleuthkit/autopsy/corecomponents/Bundle_ja.properties" target="_blank">Bundle_ja.properties</a>.</p>
<p>This file needs to contain all of the strings for that language. It needs to be based off of the Bundle.properties-MERGED file, not the Bundle.properties file (which does not contain all of the strings).</p>
<h2><a class="anchor" id="translations_ui_start"></a>
Translating To a New Language</h2>
<p>If there is not already documentation in a language, then you need to:</p><ul>
<li>Go into each package</li>
<li>Copy the Bundle.properties-MERGED file to Bundle_XX.properties file where XX is replaced by the language code.</li>
<li>Edit the Bundle_XX.properties file and translate the English strings.</li>
</ul>
<h2><a class="anchor" id="translations_ui_update"></a>
Updating The Translations</h2>
<p>When new releases are made and the English UI is updated, the other languages should be updated as well. To determine what has changed:</p>
<ul>
<li>First, determine when the last time the translated file was changed. From a command line, you can change into the package folder and type:</li>
</ul>
<div class="fragment"><div class="line">$ cd Core/src/org/sleuthkit/autopsy/corecomponents</div>
<div class="line">$ git log -n 1 Bundle_ja.properties</div>
<div class="line">commit 94e4b1042af47908dd4a0b2959b3f6c3d4af1333</div>
<div class="line">Author: John Doe &lt;jdoe@sleuthkit.org&gt;</div>
<div class="line">Date:   Tue Jan 1 22:56:09 2019 -0500</div>
</div><!-- fragment --><p>This shows you that commit 94e4b1042af47908dd4a0b2959b3f6c3d4af1333 was the last translation update to occur for the Japanese version.</p>
<ul>
<li>Next, determine what changed in the English version since then:</li>
</ul>
<div class="fragment"><div class="line">$ git diff 94e4b1042af47908dd4a0b2959b3f6c3d4af1333 Bundle.properties-MERGED</div>
<div class="line">-AutopsyOptionsPanel.restartNecessaryWarning.text=A restart is necessary <span class="keywordflow">for</span> any changes to max memory to take effect.</div>
<div class="line">+AutopsyOptionsPanel.restartNecessaryWarning.text=A restart is necessary <span class="keywordflow">for</span> any memory changes to take effect.</div>
</div><!-- fragment --><ul>
<li>Update the strings in Bundle_ja.properties appropriately based on what was added, removed, or changed.</li>
<li>If you do not get to complete all of the changes, you should create a TODO_xx.txt file that lists what was not updated so that other people know that not everything was updated.</li>
</ul>
<h2><a class="anchor" id="translations_ui_commit"></a>
Committing the Documentation</h2>
<p>You should submit a Github Pull Request when:</p><ul>
<li>You complete a language.</li>
<li>You don't have time to do more work, but want to submit what you did.</li>
</ul>
<p>To get the code committed, send a <a href="https://help.github.com/articles/about-pull-requests/" target="_blank">pull request</a> to the main Autopsy repository. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr/>
<p><i>Copyright &#169; 2012-2022 Basis Technology. Generated on Fri Feb 24 2023<br/> 
This work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons Attribution-Share Alike 3.0 United States License</a>.
</i></p>
</body>
</html>
